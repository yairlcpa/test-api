<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="theme-color" content="#333">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touce-icon" href="./pics/logo192.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">    
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <title>Rss</title>
</head>
<body>
  <h2>Hello</h2>  

<script>

const link = "http://185.47.173.202:24158"
const dKey = "eb7c1aac6bee77bde113ec710f4a539d7fda4"

Start()

async function Start(){
  let txt = await Get(link)
  console.log(txt)
  txt = await Get(`${link}/${dKey}/rss`)
  console.log(txt)
  // await Post(link, {"index":1, "data":"Hello"})
  // await Put(link,  {"index":2, "data":"this is new data"})
  // await Delete(link,"index")
  // txt = await Get(link)
  // console.log(txt)
}



async function Get(url) {
  const res = await fetch(url); const data = await res.json(); return data;
}
async function Post(url, payload) {
  const myHeaders = new Headers();  myHeaders.append("Content-Type", "application/json");
  await fetch(url, {method: "POST", body: JSON.stringify(payload), headers: myHeaders});
}
async function Put(url, payload) {
  const myHeaders = new Headers();  myHeaders.append("Content-Type", "application/json");
  await fetch(url, {method: "PUT", body: JSON.stringify(payload), headers: myHeaders});
}
async function Delete(url, key) {
  const res = await Get(url);
  delete res[key];
  await Post(url, res);
}
  
</script>
</body>
</html>

